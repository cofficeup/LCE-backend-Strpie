{
	"info": {
		"_postman_id": "lce-backend-api",
		"name": "LCE Backend API",
		"description": "Laundry Care Express - Laravel Backend API Collection",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://127.0.0.1:8000/api"
		},
		{
			"key": "token",
			"value": ""
		}
	],
	"item": [
		{
			"name": "Health",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Accept", "value": "application/json"}
						],
						"url": "{{base_url}}/health"
					}
				}
			]
		},
		{
			"name": "Auth",
			"item": [
				{
					"name": "Register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.data && jsonData.data.token) {",
									"    pm.collectionVariables.set('token', jsonData.data.token);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Accept", "value": "application/json"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"testuser@example.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\",\n    \"first_name\": \"John\",\n    \"last_name\": \"Doe\"\n}"
						},
						"url": "{{base_url}}/v1/auth/register"
					}
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.data && jsonData.data.token) {",
									"    pm.collectionVariables.set('token', jsonData.data.token);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{"key": "Accept", "value": "application/json"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"testuser@example.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": "{{base_url}}/v1/auth/login"
					}
				},
				{
					"name": "Get Current User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "GET",
						"header": [
							{"key": "Accept", "value": "application/json"}
						],
						"url": "{{base_url}}/v1/auth/me"
					}
				},
				{
					"name": "Logout",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "POST",
						"header": [
							{"key": "Accept", "value": "application/json"}
						],
						"url": "{{base_url}}/v1/auth/logout"
					}
				}
			]
		},
		{
			"name": "Pickups",
			"item": [
				{
					"name": "Preview Pickup (PPO)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "POST",
						"header": [
							{"key": "Accept", "value": "application/json"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"order_type\": \"PPO\",\n    \"pickup_date\": \"2026-01-15\",\n    \"estimated_weight\": 15\n}"
						},
						"url": "{{base_url}}/v1/pickups/preview"
					}
				},
				{
					"name": "Confirm Pickup (PPO)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "POST",
						"header": [
							{"key": "Accept", "value": "application/json"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"order_type\": \"PPO\",\n    \"pickup_date\": \"2026-01-15\",\n    \"estimated_weight\": 15,\n    \"invoice_type\": \"ppo\",\n    \"billing_preview\": {\n        \"order_type\": \"PPO\",\n        \"pricing\": {\n            \"type\": \"PPO\",\n            \"weight_lbs\": 15,\n            \"price_per_lb\": 1.99,\n            \"raw_total\": 29.85,\n            \"minimum_applied\": true,\n            \"base_total\": 30,\n            \"pickup_fee\": 5,\n            \"service_fee\": 3,\n            \"total\": 38\n        },\n        \"credits\": {\n            \"original_total\": 38,\n            \"credits_used\": 0,\n            \"final_total\": 38\n        },\n        \"amount_to_charge\": 38,\n        \"credits_to_consume\": 0,\n        \"requires_payment\": true\n    }\n}"
						},
						"url": "{{base_url}}/v1/pickups/confirm"
					}
				}
			]
		},
		{
			"name": "Credits",
			"item": [
				{
					"name": "Get Credits Balance",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "GET",
						"header": [
							{"key": "Accept", "value": "application/json"}
						],
						"url": "{{base_url}}/v1/credits"
					}
				}
			]
		},
		{
			"name": "Invoices",
			"item": [
				{
					"name": "Get My Invoices",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "GET",
						"header": [
							{"key": "Accept", "value": "application/json"}
						],
						"url": "{{base_url}}/v1/invoices"
					}
				},
				{
					"name": "Get Invoice by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "GET",
						"header": [
							{"key": "Accept", "value": "application/json"}
						],
						"url": "{{base_url}}/v1/invoices/1"
					}
				}
			]
		},
		{
			"name": "Subscriptions",
			"item": [
				{
					"name": "Create Subscription",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "POST",
						"header": [
							{"key": "Accept", "value": "application/json"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"plan_id\": 1\n}"
						},
						"url": "{{base_url}}/v1/subscriptions"
					}
				},
				{
					"name": "Activate Subscription",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "POST",
						"header": [
							{"key": "Accept", "value": "application/json"}
						],
						"url": "{{base_url}}/v1/subscriptions/1/activate"
					}
				},
				{
					"name": "Cancel Subscription",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "POST",
						"header": [
							{"key": "Accept", "value": "application/json"}
						],
						"url": "{{base_url}}/v1/subscriptions/1/cancel"
					}
				}
			]
		},
		{
			"name": "Admin",
			"item": [
				{
					"name": "Get All Invoices",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "GET",
						"header": [
							{"key": "Accept", "value": "application/json"}
						],
						"url": "{{base_url}}/v1/admin/invoices"
					}
				},
				{
					"name": "Dashboard Summary",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "GET",
						"header": [
							{"key": "Accept", "value": "application/json"}
						],
						"url": "{{base_url}}/v1/admin/dashboard/summary"
					}
				},
				{
					"name": "Dashboard Revenue",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [{"key": "token", "value": "{{token}}"}]
						},
						"method": "GET",
						"header": [
							{"key": "Accept", "value": "application/json"}
						],
						"url": "{{base_url}}/v1/admin/dashboard/revenue"
					}
				}
			]
		}
	]
}
